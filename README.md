# ğŸš€ Astronaut's Shop

> ê¸°ì¡´ì˜ ì‡¼í•‘ëª° ê·¸ëŒ€ë¡œ ë§Œë“¤ì–´ë³´ê¸°
> ì‹¤ì œ ì‡¼í•‘ëª°ì²˜ëŸ¼ êµ¬í˜„í•˜ë ¤ ë…¸ë ¥í–ˆìŠµë‹ˆë‹¤. ê·¸ ê³¼ì •ì—ì„œ `ë¬´ì‹ ì‚¬`, `ì½”ì˜¤ë¡±ëª°`, `ì¿ ì—ë¥¸` ë“± ì—¬ëŸ¬ ì‡¼í•‘ëª°ì„ ì°¸ê³ í–ˆìŠµë‹ˆë‹¤.

- netlify Demo ë²„ì „
  [Demo](https://priceless-davinci-7b8ea1.netlify.app/)
  <br/>

# 1. ì œì‘ ê¸°ê°„ & ì°¸ì—¬ ì¸ì›

- 2021.07 ~ ì§„í–‰ì¤‘
- ê°œì¸ í”„ë¡œì íŠ¸

</br>

# 2. ì‚¬ìš© ê¸°ìˆ 

## `Back-end`

- Nodejs (v14.17.4)
  / Express
- MongoDB

## `Front-end`

- React
- npm
- ant-design, boot-strap
- styled-component
- React Developer Tool
- Visual Studio Code

</br>

# 3. ë°ì´í„° íë¦„ë„

![](https://github.com/MinsoftK/astronaut-shop/blob/master/flowchart2.png?raw=true)

- ìµœìƒë‹¨ì¸ APPì—ì„œë¶€í„° ë°ì´í„°ë¥¼ ìì‹ ì»´í¬ë„ŒíŠ¸ê¹Œì§€ ë¿Œë ¤ì¤€ë‹¤.
- í˜„ì¬ì˜ ë°ì´í„° íë¦„ì„ ê²°ì •í•˜ê²Œ ëœ ë‚´ìš©ì˜ [í¬ìŠ¤íŠ¸](https://minsoftk.tistory.com/66)
- í”„ë¡œì íŠ¸ë¥¼ ì‹œì‘í•  ë•Œ ë°±ì—”ë“œì—†ì´ ì‹œì‘í•˜ë‹¤ë³´ë‹ˆ ê¸°ì¡´ì˜ Dataë¥¼ í”„ë¡œì íŠ¸ì˜ jsíŒŒì¼ì—ì„œ ë°›ì•„ì˜¨ë‹¤. ê·¸ë˜ì„œ í˜„ì¬ ë°ì´í„°ì˜ ìˆ˜ì •ì´ ë¶ˆê°€í•˜ë‹¤. Node.jsì™€ MongoDBë¥¼ í™œìš©í•´ ë°±ì—”ë“œë¥¼ ì—°ê²°ì¤‘ì— ìˆë‹¤. ì—°ê²°í•œ ì´í›„ 'ê²°ì œ' ê¸°ëŠ¥ì„ ì¶”ê°€í•´ Dataë¥¼ ìˆ˜ì •í•œë‹¤.

<br/>
<br/>

# 4. ì£¼ìš” ê¸°ëŠ¥

ê¸°ì¡´ì˜ ì‡¼í•‘ëª°ì„ ì°¸ê³ í•˜ì—¬, ì‚¬ìš©ìë“¤ì—ê²Œ í¸ë¦¬í•œ ê¸°ëŠ¥ë“¤ê³¼ ë³´ê¸°ì¢‹ì€ UXë¥¼ ì œê³µí•˜ëŠ” ì„œë¹„ìŠ¤ë¥¼ ê°œë°œì„ ì¤‘ì ìœ¼ë¡œ í–ˆìŠµë‹ˆë‹¤.

<br/>

<details>
<summary>4.1. axiosëª¨ë“ˆë¡œ Dataë¥¼ ìƒí’ˆ ë¦¬ìŠ¤íŠ¸ì— ì¶”ê°€</summary>
<div markdown="1">
<br/>

<center><img src="https://github.com/MinsoftK/astronaut-shop/blob/master/shop/src/img/readme1.png?raw=true" width="600" height="400"/></center>

- í”„ë¡œì íŠ¸ë¥¼ ì²˜ìŒ ì‹œì‘í•  ë•Œ, ë¯¸ë¦¬ Dataë¥¼ jsoníŒŒì¼ë¡œ ë§Œë“¤ì–´ë†¨ë‹¤. í•´ë‹¹ ë°ì´í„°ë“¤ì„ ë‹¤ë¥¸ [github Repository](https://github.com/MinsoftK/jsontest/blob/master/test0.json)ì— ì˜¬ë ¤ë†¨ë‹¤. ì—¬ììƒí’ˆì¸ì§€ ë‚¨ììƒí’ˆì¸ì§€ì— ë”°ë¼ ë‹¤ë¥¸ jsoníŒŒì¼ì„ axios ëª¨ë“ˆë¡œ ë°›ì•„ì˜¨ë‹¤. í•´ë‹¹ ë°ì´í„°ë¥¼ ê¸°ì¡´ì˜ ë°ì´í„° objì— ì¶”ê°€í•´ì¤€ë‹¤.  
  ğŸ‘‰ [code í™•ì¸](https://github.com/MinsoftK/astronaut-shop/blob/d84390fe076984f8b2f7c370e348df8a4862ec1b/shop/src/container/ShoesList.js#L90)

- ë”ë³´ê¸° ë²„íŠ¼ì„ í´ë¦­í–ˆì„ ë•Œ, ë§Œì•½ ë”ì´ìƒ ì§„ì—´í•  ìƒí’ˆì´ ì—†ë‹¤ë©´ ë”ë³´ê¸° ë²„íŠ¼ì„ ë¹„í™œì„±í™” ì‹œí‚¨ë‹¤. ë‚¨ì, ì—¬ì ì¹´í…Œê³ ë¦¬ì˜ ë²„íŠ¼ì˜ stateë¥¼ ë”°ë¡œ ê´€ë¦¬í•œë‹¤.
  ğŸ‘‰ [code í™•ì¸](https://github.com/MinsoftK/astronaut-shop/blob/d84390fe076984f8b2f7c370e348df8a4862ec1b/shop/src/container/ShoesList.js#L100)

  <br/>
  <br/>
  </div>
  </details>

<details>
<summary>4.2. ìƒí’ˆ í´ë¦­ì‹œ ìƒì„¸í˜ì´ì§€ë¡œ ì´ë™</summary>
<div markdown="2">
<br/>

### ğŸ‘‰ [ì „ì²´ codeë³´ê¸°](https://github.com/MinsoftK/astronaut-shop/blob/d84390fe076984f8b2f7c370e348df8a4862ec1b/shop/src/component/ShoesItem.js#L16)

```js
(shop/src/component/ShoesItem.js)
(...)
	const onClick = () => {
		console.log('src', { src });
		history.push(src);
	};
	return (
		<div className="col-md-4" onClick={onClick}>
			<img loading="lazy" src={props.shoes.imageUrl} width="100%"></img>
			<h4>{props.shoes.title}</h4>
			<h5>â‚© {itemPrice}</h5>
		</div>
	);
(...)
```

- í•˜ë‚˜ì˜ ìƒí’ˆì˜ í´ë¦­ì´ë²¤íŠ¸ê°€ ë°œìƒí–ˆì„ë•Œ, history í›…ì„ ì´ìš©í•´ `src`ë¡œ ì´ë™í•˜ê²Œ í–ˆë‹¤. ê·¸ëŸ¬ë©´ ì•„ë˜ì™€ ê°™ì´ í•´ë‹¹ ìƒí’ˆì˜ ì •ë³´ë¡œ ì´ë™í•  ìˆ˜ ìˆì—ˆë‹¤.

<center><img src="https://github.com/MinsoftK/astronaut-shop/blob/master/shop/src/img/readme2.png?raw=true" width="600" height="400"/></center>

<br/><br/>

  </div>
  </details>

  <details>
<summary> 4.3. Reduxë¥¼ ì‚¬ìš©í•œ ì¥ë°”êµ¬ë‹ˆ</summary>
<div markdown="3">
<br/>

# ì¥ë°”êµ¬ë‹ˆ

### ğŸ‘‰ [ì „ì²´ codeë³´ê¸°](https://github.com/MinsoftK/astronaut-shop/blob/master/shop/src/container/Cart.js)

<center><img src="https://github.com/MinsoftK/astronaut-shop/blob/master/shop/src/img/readme3.png?raw=true" width="800" height="600"/></center>

- ê·¸ë¦¼ê³¼ ê°™ì´ ìƒí’ˆ ìƒì„¸ì •ë³´ì°½ì—ì„œ ì¥ë°”êµ¬ë‹ˆì— ì¶”ê°€ ë²„íŠ¼ì„ í´ë¦­í•˜ë©´, ì¥ë°”êµ¬ë‹ˆ í˜ì´ì§€ì— ì¶”ê°€ê°€ ëœë‹¤. ì´ë¯¸ ì „ë‹¬ëœ ìƒì„¸í˜ì´ì§€ì—ì„œ Cartë¡œì˜ Data ì „ë‹¬ì€ ìƒë‹¹íˆ ê¹Œë‹¤ë¡­ë‹¤. ê·¸ë˜ì„œ Reduxë¼ëŠ” ìƒíƒœ ê´€ë¦¬ íˆ´ì„ ì´ìš©í•´ ê´€ë¦¬í–ˆë‹¤. ğŸ‘‰ [redux codeë³´ê¸°](https://github.com/MinsoftK/astronaut-shop/blob/master/shop/src/redux.js)

```js
<button
	className="btn btn-danger"
	onClick={() => {
		dispatch({
			type: 'í•­ëª©ì¶”ê°€',
			//reduxì— ë³´ë‚´ëŠ” payload
			payload: {
				id: findItem.id,
				sex: props.num,
				name: findItem.title,
				remain: findItem.remain,
				quan: 1,
				imageUrl: findItem.imageUrl,
				price: findItem.price,
			},
		});
		history.push('/cart');
	}}>
	ì¥ë°”êµ¬ë‹ˆì— ì¶”ê°€
</button>
```

- ìœ„ì˜ ì¥ë°”êµ¬ë‹ˆì— ì¶”ê°€ ë²„íŠ¼ì„ ëˆŒë¥´ë©´ payloadë¡œ reduxë°ì´í„°ì— í•´ë‹¹ ì»´í¬ë„ŒíŠ¸ì—ì„œ propsë¡œ ë°›ì•„ì˜¨ ë°ì´í„°ë¥¼ ë„˜ê²¨ì¤€ë‹¤.
- ì¥ë°”êµ¬ë‹ˆ í˜ì´ì§€ì˜ `+`, `-` ë²„íŠ¼ì„ ëˆŒë¥¼ë•Œë§ˆë‹¤ reduxì˜ actionìœ¼ë¡œ ì „ë‹¬ë˜ì–´ í•´ë‹¹ ì‘ì—…ì„ ìˆ˜í–‰í•œë‹¤.

<br/><br/>

  </div>
  </details>

  <details>
<summary> 4.4. ì¥ë°”êµ¬ë‹ˆ ìƒí’ˆ ì„ íƒ ê¸°ëŠ¥</summary>
<div markdown="4">
<br/>

# ìƒí’ˆ ì„ íƒ ê²°ì œ ê¸°ëŠ¥

### ğŸ‘‰ [ì „ì²´ codeë³´ê¸°](https://github.com/MinsoftK/astronaut-shop/blob/master/shop/src/container/Cart.js)

<center><img src="https://github.com/MinsoftK/astronaut-shop/blob/master/shop/src/img/readme7.png?raw=true" width="800" height="600"/></center>

- ì¥ë°”êµ¬ë‹ˆì—ì„œ ìƒí’ˆì„ ì„ íƒí•˜ë©´ ìƒí’ˆì´ ì‹¤ì‹œê°„ìœ¼ë¡œ ì—…ë°ì´íŠ¸ ëœë‹¤. ğŸ‘‰ [checkbox ì „ì²´ ì½”ë“œ ë³´ê¸°](https://github.com/MinsoftK/astronaut-shop/blob/6e469964e4a983b527d0525eae5f622bd2c4e05f/shop/src/container/Cart.js#L30)

```js
//ì²˜ìŒ ë Œë”ë§ë  ë•Œ
useEffect(() => {
	console.log('í›…ì„ ì´ìš©í•´ redux state ê°€ì ¸ì˜¤ê¸°', state);
	console.log('state', state);

	//ë Œë”ë§ë ë•Œ ìƒí’ˆì˜ ê°œìˆ˜ë§Œí¼ checkbox stateë¥¼ ì €ì¥í•  obj ìƒì„±
	let copy = [];
	for (let i = 0; i < state.length; i++) copy.push(false);
	setIsSelect(copy);
}, []);
```

- ì´ ê¸°ëŠ¥ì„ ë§Œë“¤ê¸° ìœ„í•´ useEffect í›…ì„ ì´ìš©í•´ ì²˜ìŒì— ë Œë”ë§ë  ë•Œ, ê¸°ì¡´ì˜ redux ë°ì´í„°ì˜ ê°œìˆ˜ë§Œí¼ objë¥¼ ë§Œë“¤ì–´ falseë¥¼ ì…ë ¥í•´ì¤¬ë‹¤. ê¸°ì¡´ì˜ ë²„íŠ¼ë“¤ì€ ì„ íƒë˜ì§€ ì•ŠëŠ” false ê°’ì„ defaultë¡œ ê°€ì§€ê²Œ í–ˆë‹¤.
- ë²„íŠ¼ì´ ëˆŒë ¸ì„ë•Œ useStateë¥¼ ì´ìš©í•œ stateê°’ ë³€ê²½ìœ¼ë¡œ ì‹¤ì‹œê°„ ì—…ë°ì´íŠ¸ë¥¼ ê°€ëŠ¥í•˜ê²Œ ë§Œë“¤ì—ˆë‹¤.
  <br/><br/>

```js
const onChange = (e) => {
	console.log(`checked = ${e.target.checked} , i = ${e.target.checkNumber}`);
	let copy = [...isselect];
	//copyì˜ checkNumber ì¸ë±ìŠ¤ ê°’ì„ ë³€ê²½í•´ì¤€ë‹¤.
	copy[e.target.checkNumber] = e.target.checked;

	if (e.target.checked === true) {
		//ì²´í¬ë°•ìŠ¤ê°€ ì²´í¬ë˜ì—ˆì„ë•Œ í•´ë‹¹ ìƒí’ˆ ì´ ê¸ˆì•¡ì„ ë”í•´ì¤€ë‹¤.
		setSelectPay(selectPay + e.target.item.price * e.target.item.quan);
	} else if (e.target.checked === false) {
		//ì²´í¬ë°•ìŠ¤ê°€ ì²´í¬ë˜ì—ˆì„ë•Œ í•´ë‹¹ ìƒí’ˆ ì´ ê¸ˆì•¡ì„ ë¹¼ì¤€ë‹¤.
		setSelectPay(selectPay - e.target.item.price * e.target.item.quan);
	} else {
		alert('ì˜ëª»ëœ ì„ íƒì…ë‹ˆë‹¤.');
	}
};
```

- ì´ë²¤íŠ¸ê°€ ì¼ì–´ë‚¬ì„ ë•Œ, ìœ„ì—ì„œ ë§Œë“¤ì–´ ë†“ì€ reduxì˜ objì˜ ê°’ì´ ë§Œì•½ trueë¼ë©´, ì„ íƒë˜ì—ˆìœ¼ë¯€ë¡œ í•´ë‹¹ ìƒí’ˆì˜ ê°œìˆ˜ì™€ ê¸ˆì•¡ì„ ê³±í•œ ê°’ìœ¼ë¡œ stateë¥¼ ë³€ê²½í•´ì¤€ë‹¤.
  <br/><br/>

  </div>
  </details>

 <details>
<summary> 4.5. ë Œë”ë§ ìµœì í™”</summary>
<div markdown="5">
<br/>

# ë Œë”ë§ ìµœì í™”

### ğŸ‘‰ [lazy loading codeë³´ê¸°](https://github.com/MinsoftK/astronaut-shop/blob/6e469964e4a983b527d0525eae5f622bd2c4e05f/shop/src/App.js#L13)

### ğŸ‘‰ [memo codeë³´ê¸°](https://github.com/MinsoftK/astronaut-shop/blob/6e469964e4a983b527d0525eae5f622bd2c4e05f/shop/src/container/Cart.js#L7)

<br/>

- React dev toolì„ ì´ìš©í•´ ì‹œê°„ì„ ì¸¡ì •í•´ì„œ ë Œë”ë§ ìµœì í™”ì— íš¨ê³¼ê°€ ìˆëŠ”ì§€ ë¹„êµí•´ë´¤ë‹¤. ì œì¼ ë¨¼ì € lazy loadingì„ ì ìš©í–ˆì„ ë•Œì˜ ì‹œê°„ì„ ë¹„êµí•´ë´¤ë‹¤. `App.js`ì—ì„œ ê°ê°ì˜ `Container` ì»´í¬ë„ŒíŠ¸ë¥¼ ë¡œë”©í•˜ê³  ìˆëŠ”ë° lazy loadingì„ ì‚¬ìš©í•œ ë’¤, ë Œë”ë§ ì‹œê°„ì„ ì¸¡ì •í•´ë´¤ë‹¤. ì „ì²´ ë Œë”ë§ ì‹œê°„ì€ ë§ì´ ì¤„ì—ˆê³ , ì»´í¬ë„ŒíŠ¸ë“¤ë„ ì‹œê°„ì´ ë¯¸ì„¸í•˜ê²Œ ì¤„ì–´ë“  ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆì—ˆë‹¤.
  <br/>

> lazy loading ì ìš© ì „

<center><img src="https://github.com/MinsoftK/astronaut-shop/blob/master/shop/src/img/readme4(lazy-before).png?raw=true" width="600" height="400"/></center>

> lazy loading ì ìš© í›„

<center><img src="https://github.com/MinsoftK/astronaut-shop/blob/master/shop/src/img/readme5(lazy-after).png?raw=true" width="600" height="400"/></center>

<br/>
<br/>

- React dev toolì„ ì´ìš©í•´ ì‹œê°„ì„ ì¸¡ì •í•´ì„œ ë Œë”ë§ ìµœì í™”ì— íš¨ê³¼ê°€ ìˆëŠ”ì§€ ë¹„êµí•´ë´¤ë‹¤. lazy loading ì ìš© ì´í›„ memoë¥¼ ì‚¬ìš©í–ˆì„ ë•Œë„ ë Œë”ë§ ì‹œê°„ì„ ì¸¡ì •í•´ë´¤ë‹¤. memeëŠ” ì¥ë°”êµ¬ë‹ˆ í˜ì´ì§€ì—ì„œ ì‚¬ìš©í–ˆë‹¤. ê·¸ ì´ìœ ëŠ” ìˆ˜ëŸ‰ì„ ì¡°ì ˆí• ë•Œ, ë¦¬ë Œë”ë§ ë˜ëŠ” ë¶€ë¶„ì´ ë§ì•˜ê¸° ë•Œë¬¸ì´ë‹¤.

  > memo ì ìš© ì „

<center><img src="https://github.com/MinsoftK/astronaut-shop/blob/master/shop/src/img/readme7(memo-before).png?raw=true" width="600" height="400"/></center>

> memo ì ìš© í›„

<center><img src="https://github.com/MinsoftK/astronaut-shop/blob/master/shop/src/img/readme6(memo-after).png?raw=true" width="600" height="400"/></center>

- memoë¥¼ ì‚¬ìš©í–ˆì„ ë•Œ, í° ì°¨ì´ê°€ ì—†ì´ ë Œë”ë§ ë˜ëŠ” ê²½ìš°ë„ ìˆì—ˆë‹¤. í•˜ì§€ë§Œ ì¶”ê°€ë˜ëŠ” ìƒí’ˆë“¤ì´ ì¶”ê°€ê°€ ë  ë•Œë§ˆë‹¤ memoë¥¼ ì²´ê°í•  ìˆ˜ ìˆë‹¤. lazy loadingì²˜ëŸ¼ í° ì†ë„ í–¥ìƒì€ ë³¼ ìˆ˜ ì—†ì—ˆë‹¤.

<br/>

  </div>
  </details>
<br/>

# 5. ì£¼ìš” íŠ¸ëŸ¬ë¸”ìŠˆíŒ…

 <details>
  <summary> 5.1. jsonì„ í†µí•´ Data ë°›ì•„ì˜¬ ë•Œ, CORS ì˜¤ë¥˜</summary>
  <div markdown="1">

<br/>

# jsonì„ í†µí•´ Data ë°›ì•„ì˜¬ ë•Œ, CORS ì˜¤ë¥˜

- ì´ˆê¸° í™˜ê²½ì—ì„œ DBê°€ ì—†ì–´ì„œ ë¡œì»¬í™˜ê²½ì„ ì´ìš©í•´ axios ëª¨ë“ˆì„ í†µí•´ì„œ githubì— ì˜¬ë ¤ì§„ jsoníŒŒì¼ì„ ë°›ì•„ì˜¤ë ¤ í–ˆë‹¤. í•˜ì§€ë§Œ `Access to XMLHttpRequest at 'https://github.com/MinsoftK/react/blob/main/shop/src/Data/addManShoes.json' from origin 'http://localhost:3000' has been blocked by CORS policy: No 'Access-Control-Allow-Origin' header is present on the requested resource.` ì˜¤ë¥˜ê°€ ë°œìƒí–ˆë‹¤. CORS ì˜¤ë¥˜ì— ëŒ€í•´ì„œ ì°¾ì•„ë´¤ëŠ”ë° ì™œ CORS ì˜¤ë¥˜ê°€ ë°œìƒí•˜ëŠ”ì§€ ì´í•´í•˜ê¸° ì–´ë ¤ì› ë‹¤.

- ì›ì¸ì€ githubì—ì„œ json íŒŒì¼ì„ ì œëŒ€ë¡œ ì•ˆë§Œë“¤ì–´ì„œì˜€ë‹¤. jsonì„ ë°°í¬í•´ì¤„ ì„œë²„ë¥¼ ê°€ì§€ê³  ìˆì–´ì•¼í•˜ëŠ”ë° í”„ë¡ íŠ¸ì—”ë“œ ê°œë°œ ì¤‘ ì„œë²„ë¥¼ ë§Œë“¤ì–´ í™•ì¸í•˜ê¸°ë€ ìƒë‹¹íˆ ê¹Œë‹¤ë¡œì› ë‹¤. ê·¸ë˜ì„œ í”„ë¡ íŠ¸ì—”ë“œ í™˜ê²½ì—ì„œë§Œ í™•ì¸í•  ìˆ˜ ìˆëŠ” ë°©ë²•ì„ ì°¾ì•„ì•¼ í–ˆë‹¤. ê·¸ëŸ¬ë‚˜ ì •ë³´ê°€ ë§ì´ ì—†ì–´ì„œ ì°¾ê¸° í˜ë“¤ì—ˆì§€ë§Œ stackoverflowì—ì„œ [ë‹¨ì„œ](https://stackoverflow.com/questions/29612800/load-json-from-github-file)ë¥¼ ì–»ì„ ìˆ˜ ìˆì—ˆë‹¤. ì—¬ëŸ¬ê°€ì§€ë¥¼ ì°¾ì•„ë³¸ ê²°ê³¼, githubì—ì„œ jsonì„ ë¶ˆëŸ¬ì˜¤ë ¤ë©´ í•´ë‹¹ repositoryê°€ ë°°í¬ë˜ì–´ ìˆì–´ì•¼ ëœë‹¤ëŠ” ê²ƒì„ ì•Œì•˜ë‹¤. ê·¸ë˜ì„œ jsonì„ ë°°í¬í•  ìˆ˜ ìˆëŠ” [Repository](https://github.com/MinsoftK/jsontest)ë¥¼ ë”°ë¡œ ë§Œë“¤ì–´ì¤˜ì„œ í•´ê²°í•  ìˆ˜ ìˆì—ˆë‹¤.

  ğŸ‘‰ [ ì½”ë“œ ì „ì²´ ë³´ê¸°](https://github.com/MinsoftK/astronaut-shop/blob/ba961917c6cc688e3da929653dd851c6ff4df634/shop/src/container/ShoesList.js#L91)

```js
const fetchData = (i) => {
	axios
		.get('https://minsoftk.github.io/jsontest/test' + i + '.json')
		.then((result) => {
			result.data.map((item) => {
				let newObj = [...wshoes, ...result.data];
				setShoes(newObj);
			});
		})
		.catch(() => {
			console.log('ì‹¤íŒ¨');
		});
};
```

- ìœ„ì™€ ê°™ì´ ìƒˆë¡œìš´ ì €ì¥ì†Œ urlë¡œ jsoníŒŒì¼ì„ ë°°í¬í•œ ë’¤, axiosëª¨ë“ˆë¡œ ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì™”ì„ ë•Œ CORS ì˜¤ë¥˜ì—†ì´ ì •ìƒì ìœ¼ë¡œ ë™ì‘í•˜ëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆì—ˆë‹¤.

  <br/><br/>

</div>
</details>
<details>
  <summary> 5.2. ë”ë³´ê¸° ë²„íŠ¼ í´ë¦­ì‹œ, ë¬´í•œ ìƒí’ˆ ë¡œë”© ë¬¸ì œ</summary>
  <div markdown="2">

<br/>

# ë”ë³´ê¸° ë²„íŠ¼ í´ë¦­ì‹œ, ë¬´í•œ ìƒí’ˆ ë¡œë”©

- ë”ë³´ê¸° ë²„íŠ¼ì„ ëˆŒë €ì„ ë•Œ, 5.1ì—ì„œì²˜ëŸ¼ axiosëª¨ë“ˆì„ ì´ìš©í•˜ì—¬ json ë°ì´í„°ë¥¼ ë°›ì•„ì˜¨ë‹¤. ì´ë•Œ ìƒí’ˆì„ ë¶ˆëŸ¬ì™€ë„ ë”ë³´ê¸° ë²„íŠ¼ì´ ë¹„í™œì„±í™”ë˜ì§€ ì•Šì•„ ë¬´í•œìœ¼ë¡œ ìƒí’ˆì´ ì¶”ê°€ë˜ëŠ” ì˜¤ë¥˜ê°€ ìˆì—ˆë‹¤. ë˜í•œ ë‚¨ì, ì—¬ì ì¹´í…Œê³ ë¦¬ì—ì„œ ë”ë³´ê¸° ë²„íŠ¼ì´ ê°™ì€ stateë¥¼ ê³µìœ í•˜ê³  ìˆì—ˆë‹¤. ê·¸ë˜ì„œ ë‚¨ì, ì—¬ì ìƒí’ˆ ê°ê°ì˜ ê²°ê³¼ì— ëŒ€í•œ ë²„íŠ¼ í™œì„±í™”ë¥¼ ê´€ë¦¬í•  ìˆ˜ ìˆê²Œ state ë³€ìˆ˜ë¥¼ 2ê°œ ë§Œë“¤ì–´ì¤¬ë‹¤.

> ê¸°ì¡´ì½”ë“œ

```js
const fetchData = (i) => {
	axios
		.get('https://minsoftk.github.io/jsontest/test' + i + '.json')
		.then((result) => {
			result.data.map((item) => {
				let newObj = [...wshoes, ...result.data];
				setShoes(newObj);
			});
		})
		.catch(() => {
			console.log('ì‹¤íŒ¨');
		});
};
```

<br/>

> ìˆ˜ì •ëœ ì½”ë“œ

ë§Œì•½ ê¸°ì¡´ì˜ ë°ì´í„°ì™€ ë¶ˆëŸ¬ì˜¨ ë°ì´í„°ë¥¼ í•©í•œ `newObj`ì˜ ê¸¸ì´ê°€ ì—¬ììƒí’ˆì˜ ê°œìˆ˜ë³´ë‹¤ í¬ê±°ë‚˜ ê°™ë‹¤ë©´ ë²„íŠ¼ì„ ë¹„í™œì„±í™” ì‹œí‚¨ë‹¤.

```js
const fetchData = (i) => {
		i
			? axios // i === 1ì¼ë•Œ ì—¬ì ì¹´í…Œê³ ë¦¬ ë”ë³´ê¸° ë²„íŠ¼ í´ë¦­ì‹œ
					.get('https://minsoftk.github.io/jsontest/test' + i + '.json')
					.then((result) => {
						let newObj = [...wshoes, ...result.data]; //ë°ì´í„° í•©ì¹˜ê¸°
						setWShoesNum(Data.length + result.data.length); //ì›ë˜ Dataì™€ ì¶”ê°€ëœ ë°ì´í„°ì˜ ê¸¸ì´
						if (newObj.length >= wshoesNum) setWBtnDisable('true'); //í•©ì¹œ ë°ì´í„°ì˜ ê¸¸ì´ê°€ ë” í¬ë‹¤ë©´ ì—¬ì ì¹´í…Œê³ ë¦¬ ë²„íŠ¼ ë¹„í™œì„±í™”
						setWShoes(newObj);
						console.log(btndisable);
					})
					.catch(() => {
						console.log('ì‹¤íŒ¨');
					})
			: axios // i === 0ì¼ë•Œ ë‚¨ì ì¹´í…Œê³ ë¦¬ ë”ë³´ê¸° ë²„íŠ¼ í´ë¦­ì‹œ
					.get('https://minsoftk.github.io/jsontest/test' + i + '.json')
					.then((result) => {
						let newObj = [...shoes, ...result.data]; //ë°ì´í„° í•©ì¹˜ê¸°
						setShoesNum(Data.length + result.data.length); //ì›ë˜ Dataì™€ ì¶”ê°€ëœ ë°ì´í„°ì˜ ê¸¸ì´
						if (newObj.length >= shoesNum) setBtnDisable('true'); //í•©ì¹œ ë°ì´í„°ì˜ ê¸¸ì´ê°€ ë” í¬ë‹¤ë©´ ë‚¨ì ì¹´í…Œê³ ë¦¬ ë²„íŠ¼ ë¹„í™œì„±í™”
						setShoes(newObj);
						console.log(btndisable);
					})
					.catch(() => {
						console.log('ì‹¤íŒ¨');
					});
```

<br/><br/>

</div>
</details>

<details>
  <summary> 5.3. ì´ ê²°ì œê¸ˆì•¡ í‘œì‹œ ë¬¸ì œ</summary>
  <div markdown="3">
  
  # ì´ ê²°ì œê¸ˆì•¡ í‘œì‹œ ë¬¸ì œ

## ğŸ‘‰ [ ì½”ë“œ ì „ì²´ ë³´ê¸°](https://github.com/MinsoftK/astronaut-shop/blob/ba961917c6cc688e3da929653dd851c6ff4df634/shop/src/container/Cart.js#L30)

ì²˜ìŒì—” Cartì— ë“±ë¡ëœ ëª¨ë“  ìƒí’ˆì˜ ìˆ˜ëŸ‰ê³¼ ê¸ˆì•¡ì— ë”°ë¼ ì´ ê²°ì œ ê¸ˆì•¡ì„ í‘œì‹œí•˜ê²Œ í–ˆë‹¤. í•˜ì§€ë§Œ ëŒ€ë¶€ë¶„ì˜ ì‡¼í•‘ëª°ì—ì„œëŠ” ìƒí’ˆì„ ì„ íƒí•  ìˆ˜ ìˆëŠ” ê¸°ëŠ¥ì´ ìˆì—ˆë‹¤. ë”°ë¼ì„œ ìƒí’ˆì„ ì„ íƒí•  ìˆ˜ ìˆëŠ” ê¸°ëŠ¥ì„ ë§Œë“¤ë ¤ê³ í•˜ë‹ˆ ë¬¸ì œê°€ ìƒê²¼ë‹¤.

ê¸°ì¡´ì—ëŠ” ìƒí’ˆì˜ ì„ íƒì—†ì´ ìˆ˜ëŸ‰ì„ ì¦ê°€í•˜ë©´ total ê°’ì„ ì¦ê°€ì‹œí‚´ìœ¼ë¡œ ì •ìƒì ì¸ ê°’ì„ ì¶œë ¥í•  ìˆ˜ ìˆì—ˆë‹¤. í•˜ì§€ë§Œ ìƒí’ˆì„ ì„ íƒí•˜ë©´ í•´ë‹¹ ê¸ˆì•¡ë§Œì„ í¬í•¨ì‹œì¼œì•¼ í•˜ë¯€ë¡œ ê¸°ì¡´ì˜ ì§  ì½”ë“œë¥¼ ì ìš©í•  ìˆ˜ëŠ” ì—†ì—ˆë‹¤. stateë¡œ ì„ íƒí–ˆì„ ì‹œ ê°’ì„ ê´€ë¦¬í•˜ê³  true, falseì— ë”°ë¼ ì´ ê²°ì œê¸ˆì•¡ì— í¬í•¨ì‹œí‚¤ë„ë¡ ì§œì•¼ í–ˆë‹¤.

ì²˜ìŒì— ê³ ë¯¼í–ˆë˜ ì§€ì ì´ ì„ íƒëœ ìƒí’ˆì„ ì•Œì•„ì•¼ í–ˆìœ¼ë¯€ë¡œ ìƒí’ˆë§ˆë‹¤ checkedê°€ ë¬ëŠ”ì§€ ì•ˆëëŠ”ì§€, state ë³€ìˆ˜ë¥¼ ë§Œë“¤ì–´ì•¼ í–ˆë‹¤. ê·¸ë¦¬ê³  useEffectë¡œ ì„ íƒì´ í•´ì œë˜ì—ˆì„ë•Œ ì´ ê¸ˆì•¡ì„ í‘œì‹œí•˜ë ¤ í–ˆë‹¤. ê·¸ë¦¬ê³  ë²„íŠ¼ì„ í´ë¦­í–ˆì„ë•Œ ê¸°ì¡´ì˜ setPay í•œ ë¶€ë¶„ë“¤ì„ ìˆ˜ì •í•´ì•¼ í–ˆë‹¤. í•˜ì§€ë§Œ ê·¸ë ‡ê²Œ ì§œë ¤ë©´ `{state.map ...}` í•¨ìˆ˜ ì„ ì–¸ë¬¸ ë°–ì—ì„œ ì²˜ë¦¬ë¥¼ í•´ì•¼í–ˆë‹¤. ê·¸ë ‡ê²Œ ì§œë ¤í•˜ë‹ˆ reduxì™€ ê¼¬ì—¬ì„œ ê³„ì† `too many rendering~~` ì˜¤ë¥˜ê°€ ë°œìƒí•˜ê²Œ ëê³ , ì–´ë ¤ì› ë‹¤. ë˜í•œ ì½”ë“œê°€ ë³µì¡í•´ì§€ê³  ë¶€ìì—°ìŠ¤ëŸ¬ì› ë‹¤.

ê·¸ë˜ì„œ reduxì˜ dataë¥¼ ê°€ì§€ê³  ì˜¤ëŠ” state.map ë°˜ë³µë¬¸ ì•ˆì—ì„œ checkboxì˜ ìƒíƒœê°€ ë³€í• ë•Œ ê°™ì´ ê°’ì„ ì ìš©ì‹œí‚¤ëŠ”ê²Œ ì–´ë–¨ê¹Œ? ìƒê°ì„ í–ˆë‹¤. ê·¸ë˜ì„œ ì•„ë˜ì™€ ê°™ì´ ì²´í¬ë°•ìŠ¤ì˜ ìƒíƒœê°€ ë³€í–ˆì„ ë•Œ ìƒíƒœì— ë”°ë¼ì„œ ì„ íƒëœ ìƒí’ˆì˜ ê°€ê²©ì¸ `selectPay`ì˜ stateë¥¼ ë³€ê²½ ì‹œì¼œì¤¬ë‹¤. ì´í›„ ì •ìƒì ì¸ ë™ì‘ì„ í™•ì¸í•  ìˆ˜ ìˆì—ˆë‹¤.

> ê¸°ì¡´ ì½”ë“œ

```js
<Button
	variant="light"
	onClick={() => {
		dispatch({ type: 'ìˆ˜ëŸ‰ê°ì†Œ', data: i });
		setPay(pay - item.price);
	}}>
	-
</Button>;
{
	' ' + item.quan + ' ';
}
<Button
	variant="light"
	onClick={() => {
		dispatch({ type: 'ìˆ˜ëŸ‰ì¦ê°€', data: i });
		setPay(pay + item.price);
	}}>
	+
</Button>;
```

- ìˆ˜ì •ëœ ì½”ë“œ

```js
const onChange = (e) => {
	console.log(`checked = ${e.target.checked} , i = ${e.target.checkNumber}`);
	let copy = [...isselect];
	//copyì˜ checkNumber ì¸ë±ìŠ¤ ê°’ì„ ë³€ê²½í•´ì¤€ë‹¤.
	copy[e.target.checkNumber] = e.target.checked;

	if (e.target.checked === true) {
		//ì²´í¬ë°•ìŠ¤ê°€ ì²´í¬ë˜ì—ˆì„ë•Œ í•´ë‹¹ ìƒí’ˆ ì´ ê¸ˆì•¡ì„ ë”í•´ì¤€ë‹¤.
		setSelectPay(selectPay + e.target.item.price * e.target.item.quan);
	} else if (e.target.checked === false) {
		//ì²´í¬ë°•ìŠ¤ê°€ ì²´í¬ë˜ì—ˆì„ë•Œ í•´ë‹¹ ìƒí’ˆ ì´ ê¸ˆì•¡ì„ ë¹¼ì¤€ë‹¤.
		setSelectPay(selectPay - e.target.item.price * e.target.item.quan);
	} else {
		alert('ì˜ëª»ëœ ì„ íƒì…ë‹ˆë‹¤.');
	}
};
```

```js

```

  <br/>

- <br/>
  </div>
  </details>

# 6. í•µì‹¬ íŠ¸ëŸ¬ë¸”ìŠˆíŒ…

## ë³´ì™„ì 

- ìƒí’ˆ ì„ íƒ ì´í›„ ìˆ˜ëŸ‰ì„ ë³€ê²½í–ˆì„ ë•Œ, ê²°ì œê¸ˆì•¡ì´ ìµœì‹ í™” ë˜ì§€ ì•ŠëŠ” ë¬¸ì œ
- ì „ì²´ì„ íƒ ê¸°ëŠ¥ ì¶”ê°€í•˜ê¸°
- Node.jsì™€ MongoDBë¥¼ í™œìš©í•´ ë°±ì—”ë“œë¥¼ ì—°ê²°ì¤‘ì— ìˆë‹¤. ì—°ê²°í•œ ì´í›„ 'ê²°ì œ' ê¸°ëŠ¥ì„ ì¶”ê°€í•´ ì „ì²´ Dataë¥¼ ìˆ˜ì •í•œë‹¤.
- ì¥ë°”êµ¬ë‹ˆì— ë„£ê¸° ì „ì— ì¬ê³ ê°€ 0ì¼ë•Œ ê²½ìš°
  <br/>
  <br/>

## ê°œë°œì¼ì§€

í”„ë¡œì íŠ¸ë¥¼ ì§„í–‰í•˜ë©´ì„œ ê°œì¸ì ìœ¼ë¡œ ê³ ë¯¼í–ˆë˜ ê¸°ìˆ ì , êµ¬ì¡°ì  ë¬¸ì œë“¤ì„ ê³ ë¯¼í•˜ê³  í•´ê²°ê³¼ì •ì„ ì‘ì„±í•œ í¬ìŠ¤íŠ¸

- [ê°œë°œì¼ì§€1](https://minsoftk.tistory.com/66)
- [ê°œë°œì¼ì§€2](https://minsoftk.tistory.com/67?category=872236)
  <br/>
  <br/>

## ğŸ“• Reference

- [lazy loading](https://velog.io/@vagabondms/%EA%B8%B0%EC%88%A0-%EC%8A%A4%ED%84%B0%EB%94%94-Lazy-loading%EC%9D%B4%EB%9E%80-%EB%AC%B4%EC%97%87%EC%9D%B8%EA%B0%80)
- [memo](https://ui.toast.com/weekly-pick/ko_20190731)
- [memo2](https://medium.com/wantedjobs/react-profiler%EB%A5%BC-%EC%82%AC%EC%9A%A9%ED%95%98%EC%97%AC-%EC%84%B1%EB%8A%A5-%EC%B8%A1%EC%A0%95%ED%95%98%EA%B8%B0-5981dfb3d934)
- https://engineering.linecorp.com/ko/blog/line-securities-frontend-4/

<hr/>

- 5.1. CORS
  https://developer.mozilla.org/ko/docs/Web/HTTP/CORS
  https://evan-moon.github.io/2020/05/21/about-cors/
